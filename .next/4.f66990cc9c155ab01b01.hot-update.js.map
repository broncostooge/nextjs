{"version":3,"file":"4.f66990cc9c155ab01b01.hot-update.js","sources":["webpack:///pages/index.js"],"sourcesContent":["import Layout from '../components/MyLayout.js'\r\nimport Link from 'next/link'\r\nimport fetch from 'isomorphic-unfetch'\r\n\r\nconst Index = (props) => (\r\n  <Layout>\r\n    <h1>Steam Games for {props.user.personaname}</h1>\r\n    <ul>\r\n      {props.listOfGames.map((game, index) => (\r\n        <li key={game.appid}>\r\n          <img src={\"http://media.steampowered.com/steamcommunity/public/images/apps/\"+game.appid+\"/\"+game.img_icon_url+\".jpg\"}/>\r\n          <Link as={'/p/'+game.appid} href={'/post?id=' + game.appid}>\r\n            <a>{game.name}</a>\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </Layout>\r\n)\r\n\r\nIndex.getInitialProps = async function() {\r\n  const res = await fetch('http://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/?key=3F1EEFCCC0C8F311EFD50A76A5C26E68&steamid=76561197994457853&include_appinfo=1&format=json')\r\n  const data = await res.json()\r\n  \r\n  const userRes = await fetch('http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=3F1EEFCCC0C8F311EFD50A76A5C26E68&steamids=76561197994457853')\r\n  const userData = await userRes.json()\r\n  \r\n  const listOfGames = []\r\n  const listOfUsers = []\r\n  \r\n  data.response.games.map((game, index) => (\r\n    listOfGames.push({\r\n      appid: game.appid,\r\n      name: game.name,\r\n      playtime_forever: game.playtime_forever,\r\n      img_icon_url: game.img_icon_url,\r\n      img_logo_url: game.img_logo_url,\r\n      has_community_visible_stats: game.has_community_visible_stats\r\n    })\r\n  ))\r\n\r\n  userData.response.players.map((player, index) => (\r\n    listOfUsers.push({\r\n      steamid: player.steamid,\r\n      communityvisibilitystate: player.communityvisibilitystate,\r\n      profilestate: player.profilestate,\r\n      username: player.personaname,\r\n      lastlogoff: player.lastlogoff,\r\n      profileurl: player.profileurl,\r\n      avatar: player.avatar,\r\n      avatarmedium: player.avatarmedium,\r\n      avatarfull: player.avatarfull,\r\n      personastate: player.personastate,\r\n      primaryclanid: player.primaryclanid,\r\n      timecreated: player.timecreated,\r\n      personastateflags: player.personastateflags\r\n    })\r\n  ))\r\n \r\n\r\n  return {\r\n    listOfGames: listOfGames,\r\n    user: listOfUsers\r\n  }\r\n}\r\n\r\nexport default Index\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAJA;AACA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAIA;AAJA;AAAA;AACA;AADA;AAKA;AAEA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AADA;AAWA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AADA;AArBA;AAyCA;AACA;AAFA;AACA;AAzCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8CA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}
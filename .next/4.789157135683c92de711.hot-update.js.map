{"version":3,"file":"4.789157135683c92de711.hot-update.js","sources":["webpack:///pages/index.js"],"sourcesContent":["import Layout from '../components/MyLayout.js'\r\nimport Link from 'next/link'\r\nimport fetch from 'isomorphic-unfetch'\r\n\r\nconst Index = (props) => (\r\n  <Layout>\r\n    <h1>Steam Games for {props.user.personaname}</h1>\r\n    <ul>\r\n      {props.listOfGames.map((game, index) => (\r\n        <li key={game.appid}>\r\n          <img src={\"http://media.steampowered.com/steamcommunity/public/images/apps/\"+game.appid+\"/\"+game.img_icon_url+\".jpg\"}/>\r\n          <Link as={'/g/'+game.appid} href={'/game?id=' + game.appid}>\r\n            <a>{game.name}</a>\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </Layout>\r\n)\r\n\r\nIndex.getInitialProps = async function() {\r\n\r\n  const key = '3F1EEFCCC0C8F311EFD50A76A5C26E68'\r\n  const steamID = '76561197994457853'\r\n\r\n  const res = await fetch('http://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/?key=' + key + '&steamid=' + steamID + '&include_appinfo=1&format=json')\r\n  const data = await res.json()\r\n  \r\n  const userRes = await fetch('http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=' + key + '&steamids=' + steamID)\r\n  const userData = await userRes.json()\r\n  \r\n  let listOfGames = []\r\n  let userInformation = {}\r\n  \r\n  data.response.games.map((game, index) => (\r\n    listOfGames.push({\r\n      appid: game.appid,\r\n      name: game.name,\r\n      playtime_forever: game.playtime_forever,\r\n      img_icon_url: game.img_icon_url,\r\n      img_logo_url: game.img_logo_url\r\n    })\r\n  ))\r\n\r\n  userData.response.players.map((player, index) => (\r\n    userInformation= {\r\n      steamid: player.steamid,\r\n      profilestate: player.profilestate,\r\n      personaname: player.personaname,\r\n      lastlogoff: player.lastlogoff,\r\n      profileurl: player.profileurl,\r\n      avatar: player.avatar,\r\n      avatarmedium: player.avatarmedium,\r\n      avatarfull: player.avatarfull,\r\n      personastate: player.personastate,\r\n      timecreated: player.timecreated\r\n    }\r\n  ))\r\n  \r\n  return {\r\n    listOfGames: listOfGames,\r\n    user: userInformation\r\n  }\r\n}\r\n\r\nexport default Index\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAJA;AACA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AACA;AADA;AAKA;AALA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AACA;AADA;AAQA;AARA;AAAA;AACA;AADA;AASA;AAEA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AADA;AAUA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AADA;AAxBA;AAwCA;AACA;AAFA;AACA;AAxCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6CA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}